---
aliases: 
tags: 50.001
---
[[IS & Programming|ISP]]
[[Android 4]]

How to delete entries from the [[RecyclerView]]

We are able to write code to delete a particular ViewHolder when it is swiped left/right.

First, add a method in `DataSource` to delete any particular entry, if one is not present.
```java
void removeData(int i) {
	dataArrayList.remove(i);
}
```

The code recipe is to create an instance of `ItemTouchHelper` and attach the [[RecyclerView]] instance to it.
```java
ItemTouchHelper itemTouchHelper = new ItemTouchHelper(simpleCallback);
itemTouchHelper.attachToRecyclerView(recyclerView);
```
The constructor takes in an object that extends the `ItemTouchHelper.SimpleCallback` [[Abstract Class]].
To use this class,
- Pass the direction of swiping that you want to detect to its constructor
- Override `onSwipe()`

From documentation, directions are specified via constants.
As you are going to use this object only once, an acceptable practice is to use an [[Anonymous class|anonymous]] [[Abstract Class]].

As we are coding for swiping we do not write any other code in `onMode()`.
```java
ItemTouchHelper.SimpleCallback simpleCallback = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT ) {  
	@Override  
	public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder viewHolder1) {  
		return false;  
	}
	
	@Override  
	public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int i) {  
		//code to delete the view goes here  
	}  
}
```
2 parameters are passed to `onSwiped()`:
- an instance of the ViewHolder that is currently being swiped
- the direction (change the var name of the autogenerated code...) 

Within `onSwiped()`
- [[Polymorphism#Down-Casting|Downcast]] the ViewHolder object so that you can use the instance variables or methods that you have defined
- Call your dataSource with the required information to delete the particular row in the database
- Display any other UI message e.g. a [[Toast]] saying a deletion is happening
- Notify the [[RecyclerView]] [[Adapter design pattern|adapter]] that the database has an item removed (Where did the `getAdapterPosition()` method come from?)

 ```java
 CharaAdapter.CharaViewHolder charaViewHolder = (CharaAdapter.CharaViewHolder) viewHolder;
 int position = charaViewHolder.getAdapterPosition();
 dataSource.removeData(position);
 // display toast if you like
 charaAdapter.notifyDataSetChanged();
```

## Full sequence of code
```java
charaAdapter = new CharaAdapter(this, dataSource);
recyclerView.setAdapter(charaAdapter);
recyclerView.setLayoutManager( new GridLayoutManager(this, 3) );

ItemTouchHelper.SimpleCallback simpleCallback = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT ) {  
	@Override  
	public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder viewHolder1) {  
		return false;  
	}
	
	@Override  
	public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int i) {  
		//code to delete the view goes here 
		CharaAdapter.CharaViewHolder charaViewHolder = (CharaAdapter.CharaViewHolder) viewHolder;
		int position = charaViewHolder.getAdapterPosition();
		dataSource.removeData(position);
		// display toast if you like
		charaAdapter.notifyDataSetChanged(); 
	}  
};

ItemTouchHelper itemTouchHelper = new ItemTouchHelper(simpleCallback);
itemTouchHelper.attachToRecyclerView(recyclerView);
```