# Digital Abstraction
[Lecture](https://youtu.be/xkVIr8jrtX0)
[Notes](https://natalieagus.github.io/50002/notes/digitalabstraction)
## Overview
One of the cheapest ways to encode information is in terms of 0s and 1s, using voltages. This method of determining _discrete_ values out of voltages (which value is originally made up of real number, and therefore _continuous_ and _infinite_) is called the **digital abstraction**.
### Benefits of the digital abstraction
1.  The digital abstraction is where one interprets voltage values as **binary** values, thus allowing us to encode information using voltages.
2.  Using voltages to encode bits of 0’s and 1’s provides a **cheap and stable way** for us to exchange information through digital devices.
3.  We can also **manipulate** or **change** information encoded using voltages very easily.
### Semiconductor Devices (MOSFET)
The voltages that represent digital bits are generated by **semiconductor devices (MOSFET)** – something that we will learn in the next chapter. 
The benefit of using semiconductors the ease of generation, and that they require zero power in steady-state. 
The drawbacks however, is that the voltages generated by these semiconductors are easily affected by external disturbances, and hence they may be unstable.
### Preserving the integrity of information
To preserve the integrity of information encoded in digital devices made of semiconductor materials, we need to **set some contracts between these interconnected digital devices**. In this notes, we are going to learn _how_ we can use voltages to encode information in a stable way that follows a particular contract called the **static discipline** to guarantee the behavior of each processing block in the system.

## A  Digital Processing Element: Combinational Device and Combinational Digital System
A digital device is any device that uses voltages to encode information in terms of “low voltage” **(bit 0)** and “high voltage” **(bit 1)**. 
Its output is a [[State Machine#^6d8a9a|pure function]] of the present input only _(there’s no memory of past inputs)_, and it has the following criteria.
### Combinational Device
A specific type of digital device that has the following criteria:
1.  One or more digital inputs
2.  One or more digital outputs
3.  A **functional specification** that details the value of each output for each possible **combination** of inputs (can be illustrated in terms of truth table / boolean expression)
  > Its circuit performs an operation assigned logically by a boolean expression or truth table.
5. A **timing specification** consisting of an upper bound required  
    propagation time for the device to compute the specified output  
    values given a set of valid and stable input value(s)

![[Pasted image 20220127090727.png]]
Later on you will learn another type of digital logic devices called the **sequential** logic device, whose output depends not only on the present input but also on the history of the inputs, hence having a _memory_. [[State Machine#^6d8a9a|State function (DDW)]]

### Combinational Digital System
A **set** of interconnected circuit elements is **combinational** and can be labeled as a **combinational digital system** if and only if:
-   **Each circuit element is also combinational with no directed cycles** (no _feedback_ loop), and
-   That very device’s input is connected to **exactly one output of another device** or to some vast supply of `0`s and `1`s.
![[Pasted image 20220127090758.png]]
## Voltage to encode information
The most naive way to use voltage to encode information is to use ‘low’ voltage to encode valid ‘0’ and ‘high’ voltage to encode valid ‘1’, and define the low and high threshold for each valid ‘0’ and ‘1’.
Anything that is between the low and high threshold value is called the invalid zone, as shown in the figure below:
![[Pasted image 20220124195323.png]]
The values of operating voltage in practice is commonly set to be 0.3V for low voltage and 3.3V for high voltage.

## The Static Discipline
The static discipline is one of the **contracts** bound for all logical elements making up a digital system. The static discipline is stated as follows:
> The Static Discipline: **A digital system must be able to produce a valid output (for the next device connected at its output terminal) according to its specification if it is given a valid input.**

This contract **guarantees** the behavior for each processing block in a system, so that a set of such interconnected devices may work properly (are able to pass and compute valid information at the end of the chain of connections). This is necessary so that the system has a **predictable behavior.**

**However this doesn’t mean that the opposite is true.** 
A device that receives invalid input _does not always have to_ produce invalid output. 
We don’t care much and cannot define or guarantee the behaviour of the combinational device if it receives invalid input – it may or may not produce a valid output.

Therefore, one can say that **a combinational logic device always obeys the static discipline**.

In a [digital circuit](https://en.wikipedia.org/wiki/Digital_circuit "Digital circuit") or system, **static discipline** is a guarantee on logical elements that "if inputs meet valid input thresholds, then the system guarantees outputs will meet valid output thresholds", named by Stephen A. Ward and Robert H. Halstead in 1990, but practiced for decades earlier.

The valid output thresholds voltages $V_{OH}$ (output high) and $V_{OL}$ (output low), and valid input thresholds $V_{IH}$ (input high) and $V_{IL}$ (input low), satisfy a [robustness principle](https://en.wikipedia.org/wiki/Robustness_principle "Robustness principle") such that

$$V_{OL} < V_{IL} < V_{IH} < V_{OH}$$

with sufficient [noise margins](https://en.wikipedia.org/wiki/Noise_margin "Noise margin") in the inequalities.

## Voltage Specifications and Noise Margin
Consider two digital devices connected in series as shown in the figure below. 
![[Pasted image 20220124201904.png]]
These devices are called a **buffer**, meaning that they pass the same bit over (if it receives a low voltage, it will produce a low voltage and vice versa). 

If we were to _naively decide_ that any voltage below $V_{low}=0.5V$  as digital bit `0`, and any voltage above $V_{high}=2.5V$ as digital bit `1`, then our device **may violate the static discipline.**

This explanation can be made clear with the following example. Suppose we supply 0.5V and Device 1 is able to produce also 0.5V, which means digital bit .
-   However, the problem is that a _wire_, that connects two or more combinational devices together is susceptible to **noise**.
-   The voltage value that is received at Device 2 may be _slightly higher_ than 0.5V, for example: 0.55V instead, and therefore according to our specification, it is _no longer a valid bit `0`_.
_Note that a noise can knock the voltage down as well, this is just an example that’s detrimental to the function of the devices in this example_

Device 1 in the figure above **violates** static discipline because _given a **valid** input, it *may_ be **unable** to produce a valid output (to **reach** the next device 2), because the `0.5V` produced at the output of Device 1 may meet some disturbances that caused it to be slightly off, e.g: `0.55V`.

Hence, we need to account for the presence of some light **noise**.
Instead of naively setting some voltage $V_{high}$ and $V_{low}$ as we did above, we need to set a _range_ of Voltages as valid bit `1` and `0` respectively.

Hence we need something called the **noise margin** -- the yellow region illustrated in the Figure below.
The noise margin is formed by setting 4 Voltage specifications: ![[Pasted image 20220127090346.png]] which defines what range of voltage values signifies a vali digital bit and a valid digital bit `0` for any combinational logic component in the system:![[Pasted image 20220127090430.png]]
> The noise margin adds as a precaution against externl disturbances (noise).

1.  $V_{ol}$ (voltage output low) and $V_{oh}$ (voltage output high) is the voltage that **your system** outputs, depending on whether your system is outputting bit `0` or `1`. The output of this system is going to be received by another system after traversing through some wire.
    
2.  $V_{il}$ (voltage input low) or $V_{ih}$ (voltage input high) is the voltage that **your system** receives as **input** from another system.
    
3.  The **absolute difference** between $V_{ol}$ and $V_{il}$ is called the **low bit noise margin**, and the **absolute difference** between $V_{oh}$ and $V_{ih}$ is called the **high bit noise margin**.
    
    > Noise margin is formally defined as the **maximum** voltage amplitude of _extraneous_ (erronous) signal that can be added to the noise-free input level _without_ causing a drastic change in the output voltage and that it is still within the valid logic level.
    
4.  The **noise immunity** (like an “overall” or “effective” noise margin) is the **_minimum_** between the high bit noise margin and the low bit noise margin.
    
5.  $V_{ol}$ is **less** than $V_{il}$, because we would want to have some _buffer_ against noise. A device always outputs a lower voltage value to signify digital bit `0` `0` and accepts a slightly higher low-voltage value as digital bit `0` `0`. The same logic applies for the higher region as well, as $V_{oh}$ is greater than $V_{ih}$
    
6.  In our previous case in Figure earlier, if $V_{ol}$ is set to be `0.5V`, and $V_{il}$ is set to be `0.6V`, then _Device 2_ will be able to **tolerate** up to `0.1V` of noise (if any). Therefore, `0.55V` in our example above is still ‘_seen_’ as a valid bit `0` when it arrives at the input terminal of Device 2, thus making Device 1 **_obeys the static discipline._**

Once **set and chosen,** these four voltage specifications: $V_{ol}$, $V_{oh}$, $V_{il}$, and $V_{ih}$ are to be obeyed by every digital **device in an entire combinational logic circuit**.
## Voltage Transfer Characteristic Function (VTC)
The VTC is a **plot** between the input voltage ($V_{in}$) to a digital system/device vs the output voltage ($V_{out}$) of this digital system.

## Summary